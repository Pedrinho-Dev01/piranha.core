@page "~/manager/workflows/review"
@using Piranha.Manager.Localization
@inject ManagerLocalizer Localizer

@{
    Layout = "_Layout";
    ViewBag.MenuItem = "WorkflowsReview";
    ViewBag.Title    = Localizer.Menu["Review"] ?? "Review Content";
}

<div class="top">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">@Localizer.Menu["Content"]</li>
            <li class="breadcrumb-item active" aria-current="page">@ViewBag.Title</li>
        </ol>
    </nav>
</div>

<div class="container-fluid app ready">
    <!-- Nav pills -->
    <ul class="nav nav-pills mb-3" id="reviewTabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="pill" href="#tab-pending" role="tab">Pending</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="pill" href="#tab-approved" role="tab">Approved</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="pill" href="#tab-rejected" role="tab">Rejected</a>
        </li>
    </ul>

    <div class="tab-content">
        <!-- Pending -->
        <div class="tab-pane fade show active" id="tab-pending" role="tabpanel">
            @* tabela idêntica à de Comments *@
            <table class="table table-hover">
                <thead class="thead-light">
                    <tr>
                        <th>@Localizer.Content["Title"]</th>
                        <th>@Localizer.Content["Type"]</th>
                        <th>@Localizer.Content["Author"]</th>
                        <th>@Localizer.Content["Submission Date"]</th>
                        <th>@Localizer.Content["Actions"]</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a class="text-dark" href="/manager/posts/edit/1">Lorem Ipsum Dolor</a></td>
                        <td>BlogPost</td>
                        <td>alice@example.com</td>
                        <td>2025-05-27 10:15</td>
                        <td>
                            <button class="btn btn-sm btn-success"><i class="fas fa-check"></i></button>
                            <button class="btn btn-sm btn-danger" data-toggle="modal" data-target="#rejectModal"><i class="fas fa-times"></i></button>
                        </td>
                    </tr>
                    <!-- …outras linhas… -->
                </tbody>
            </table>
        </div>

        <!-- Approved -->
        <div class="tab-pane fade" id="tab-approved" role="tabpanel">
            <p class="text-muted">No approved items (static demo).</p>
        </div>

        <!-- Rejected -->
        <div class="tab-pane fade" id="tab-rejected" role="tabpanel">
            <p class="text-muted">No rejected items (static demo).</p>
        </div>
    </div>
</div>

<!-- Modal rejeição simplificado -->
<div class="modal fade" id="rejectModal" tabindex="-1">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">Reject content</h5>
        <button class="close" data-dismiss="modal"><span>&times;</span></button>
    </div>
    <div class="modal-body">
        <textarea class="form-control" rows="3" placeholder="Reason…"></textarea>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button class="btn btn-danger">Reject</button>
    </div>
  </div></div>
</div>
